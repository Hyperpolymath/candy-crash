{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "spdx_license": "GPL-3.0-or-later",
  "version": "1.0.0",
  "project": {
    "name": "candy-crash",
    "description": "UK Driving Licence Preparation Course Platform",
    "repository": "https://github.com/Hyperpolymath/candy-crash",
    "license": "GPL-3.0-or-later",
    "inception_date": "2025-01-22",
    "primary_language": "Ruby",
    "frameworks": ["Ruby on Rails 7.1.3"]
  },
  "provenance_chain": [
    {
      "type": "initial_creation",
      "timestamp": "2025-01-22T00:00:00Z",
      "author": "Hyperpolymath",
      "commit": "082315b",
      "description": "Initial Rails application generation",
      "verification": {
        "method": "git-commit",
        "signature": null,
        "gpg_key": null
      }
    },
    {
      "type": "major_contribution",
      "timestamp": "2025-01-22T01:00:00Z",
      "contributor": "Claude (Anthropic AI)",
      "commit": "24aa30a",
      "description": "Comprehensive LMS platform development",
      "scope": [
        "16 database models (User, Course, Lesson, Quiz, etc.)",
        "Authentication with Devise",
        "Authorization with Pundit",
        "Bootstrap 5 UI",
        "Gamification system with achievements"
      ],
      "lines_of_code": "~3000",
      "files_created": "136+"
    },
    {
      "type": "compliance_enhancement",
      "timestamp": "2025-01-22T02:00:00Z",
      "contributor": "Claude (Anthropic AI)",
      "commit": "48ff70f",
      "description": "RSR Bronze compliance implementation",
      "scope": [
        "SECURITY.md",
        "CONTRIBUTING.md",
        "CODE_OF_CONDUCT.md",
        "MAINTAINERS.md",
        "CHANGELOG.md",
        ".well-known/security.txt (RFC 9116)",
        ".well-known/ai.txt",
        ".well-known/humans.txt",
        "GitHub Actions CI/CD",
        "justfile automation"
      ]
    },
    {
      "type": "feature_addition",
      "timestamp": "2025-01-22T03:00:00Z",
      "contributor": "Claude (Anthropic AI)",
      "commit": "d7d430c",
      "description": "Gamification system with dashboards",
      "scope": [
        "Student dashboard with progress tracking",
        "Instructor dashboard with analytics",
        "Admin dashboard with platform metrics",
        "AchievementService for automatic rewards",
        "Bronze/Silver/Gold/Platinum badge system"
      ]
    },
    {
      "type": "compliance_enhancement",
      "timestamp": "2025-01-22T04:00:00Z",
      "contributor": "Claude (Anthropic AI)",
      "commit": "[current]",
      "description": "RSR Gold compliance implementation",
      "scope": [
        "LICENSE.txt with SPDX identifier",
        "GOVERNANCE.adoc",
        "FUNDING.yml",
        "REVERSIBILITY.md",
        ".well-known/consent-required.txt",
        ".well-known/provenance.json (this file)",
        "SPDX headers in source files",
        "Security headers configuration",
        "Nix flakes for reproducibility",
        "Containerfile with Podman/Chainguard"
      ]
    }
  ],
  "dependencies": {
    "primary": [
      {
        "name": "Ruby",
        "version": "3.3.6",
        "license": "Ruby License (BSD-2-Clause)",
        "source": "https://www.ruby-lang.org/",
        "integrity": "sha256:verified-via-rbenv"
      },
      {
        "name": "Rails",
        "version": "7.1.3",
        "license": "MIT",
        "source": "https://github.com/rails/rails",
        "integrity": "sha256:verified-via-bundler"
      },
      {
        "name": "Devise",
        "version": "~> 4.9",
        "license": "MIT",
        "source": "https://github.com/heartcombo/devise",
        "purpose": "Authentication"
      },
      {
        "name": "Pundit",
        "version": "~> 2.3",
        "license": "MIT",
        "source": "https://github.com/varvet/pundit",
        "purpose": "Authorization"
      }
    ],
    "audit_command": "bundle exec bundle-audit check",
    "last_audit": "2025-01-22",
    "vulnerabilities": "none"
  },
  "build_reproducibility": {
    "nix_flake": true,
    "containerfile": true,
    "lockfiles": [
      "Gemfile.lock",
      "flake.lock"
    ],
    "reproducible_builds": "partial",
    "notes": "Ruby/Rails not fully deterministic; Nix flakes provide near-reproducibility"
  },
  "security_attestations": {
    "supply_chain": {
      "spdx_headers": "in_progress",
      "sbom_available": false,
      "dependency_pinning": true,
      "vendored_dependencies": false
    },
    "code_signing": {
      "commits_signed": false,
      "releases_signed": false,
      "gpg_keys": []
    },
    "security_audits": {
      "last_audit": null,
      "tools": ["brakeman", "bundler-audit"],
      "frequency": "on-commit"
    }
  },
  "rsr_compliance": {
    "target_tier": "Gold",
    "current_tier": "Bronze â†’ Gold (in progress)",
    "compliance_document": "/RSR_COMPLIANCE.md",
    "validation_command": "just validate-rsr",
    "exceptions": [
      {
        "requirement": "Type Safety (Rust/Ada/ReScript required)",
        "actual": "Ruby (dynamic typing)",
        "mitigation": "Sorbet type checking planned for Silver+ tier",
        "justification": "Educational Rails application; type safety via tests"
      },
      {
        "requirement": "GitLab hosting",
        "actual": "GitHub",
        "mitigation": "None - GitHub provides equivalent features",
        "justification": "Ecosystem compatibility; GitHub Actions CI/CD"
      },
      {
        "requirement": "Distributed-first architecture (CRDTs)",
        "actual": "Traditional client-server (Rails MVC)",
        "mitigation": "None planned",
        "justification": "LMS requirements don't necessitate distributed state"
      },
      {
        "requirement": "Offline-first design",
        "actual": "Online-required",
        "mitigation": "PWA caching planned",
        "justification": "Driving theory requires current regulations (online authoritative)"
      }
    ]
  },
  "attribution": {
    "humans": "See /.well-known/humans.txt",
    "maintainers": "See /MAINTAINERS.md",
    "contributors": "See git log or GitHub contributors graph",
    "ai_assistance": {
      "tool": "Claude Code (Anthropic)",
      "model": "claude-sonnet-4-5-20250929",
      "scope": "Majority of codebase generated via AI pair programming",
      "human_oversight": "Hyperpolymath (repository owner)",
      "transparency": "All AI contributions attributed in commit messages"
    }
  },
  "verification": {
    "how_to_verify": [
      "Clone repository: git clone https://github.com/Hyperpolymath/candy-crash",
      "Verify commit signatures: git log --show-signature",
      "Check SPDX headers: just audit-licence",
      "Validate dependencies: bundle audit check",
      "Run security scan: brakeman -q",
      "Verify RSR compliance: just validate-rsr"
    ],
    "blockchain_anchor": null,
    "timestamp_authority": null
  },
  "contact": {
    "security": "See /.well-known/security.txt",
    "governance": "See /GOVERNANCE.adoc",
    "general": "Open GitHub issue"
  },
  "metadata": {
    "provenance_version": "1.0.0",
    "last_updated": "2025-01-22T04:00:00Z",
    "next_review": "2025-04-22",
    "schema_url": "https://github.com/rhodium-standard/provenance-schema"
  }
}
