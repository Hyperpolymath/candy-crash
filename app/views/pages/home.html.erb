<% content_for :title, "Home" %>

<!-- Hero Section -->
<section class="bg-light py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h1 class="display-4 fw-bold mb-4">Master Your UK Driving Theory Test</h1>
        <p class="lead mb-4">Comprehensive courses and practice quizzes based on the PRIMROSE protocol.</p>
        <div class="d-flex gap-3">
          <%= link_to "Browse Courses", courses_path, class: "btn btn-primary btn-lg" %>
          <% unless user_signed_in? %>
            <%= link_to "Sign Up Free", new_user_registration_path, class: "btn btn-outline-primary btn-lg" %>
          <% end %>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card shadow-lg">
          <div class="card-body p-5 text-center">
            <i class="bi bi-mortarboard-fill text-primary" style="font-size: 5rem;"></i>
            <h3 class="mt-3">Start Learning Today</h3>
            <p>Join thousands of successful students</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="py-5">
  <div class="container">
    <div class="row g-4 text-center">
      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <i class="bi bi-book text-primary" style="font-size: 3rem;"></i>
            <h3 class="mt-3"><%= @total_courses %></h3>
            <p class="text-muted mb-0">Courses Available</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <i class="bi bi-people text-success" style="font-size: 3rem;"></i>
            <h3 class="mt-3"><%= @total_students %></h3>
            <p class="text-muted mb-0">Active Students</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <i class="bi bi-trophy text-warning" style="font-size: 3rem;"></i>
            <h3 class="mt-3"><%= @total_achievements %></h3>
            <p class="text-muted mb-0">Achievements</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <i class="bi bi-patch-check text-info" style="font-size: 3rem;"></i>
            <h3 class="mt-3">100%</h3>
            <p class="text-muted mb-0">Pass Rate Support</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Courses -->
<section class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5">Featured Courses</h2>
    <div class="row g-4">
      <% @featured_courses.each do |course| %>
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <span class="badge bg-primary mb-2"><%= course.category.name %></span>
              <h5 class="card-title"><%= course.title %></h5>
              <p class="card-text text-muted"><%= truncate(course.description, length: 100) %></p>
            </div>
            <div class="card-footer bg-white">
              <%= link_to "View Course", course_path(course), class: "btn btn-outline-primary w-100" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="text-center mt-4">
      <%= link_to "View All Courses", courses_path, class: "btn btn-primary" %>
    </div>
  </div>
</section>
